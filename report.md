# Routes

## Задание
Ваш друг не так успешен как вы и работает курьером. Он попросил вас помочь ему с его работой. Каждый день он получает заказы в разных частях города. Ему нужно получить оптимальный маршрут передвижения по клиентам. Более того, начальство требует от него указать приблизительное время доставки для каждого заказчика.

## Теоретическая часть
Задание очевидным образом сводится к решению задачи коммивояжера.

Задача о коммивояжере (англ. Travelling salesman problem, TSP) — задача, в которой коммивояжер должен посетить N городов, побывав в каждом из них ровно по одному разу и завершив путешествие в том городе, с которого он начал. В какой последовательности ему нужно обходить города, чтобы общая длина его пути была наименьшей?

### Формулировка задачи
В терминах теории графов задачу можно сформулировать так: имеется полный ориентированный граф G = (V, E), каждой дуге (u, v) которого сопоставлен вес c(u, v). Предполагается, что c(u, v) ≥ 0; c(u, u) = ∞ для всех u, v ∈ V. Требуется найти в этом графе гамильтонов контур наименьшей стоимости. Также, задача может быть сформулирована с учетом c(u, v) = c(v, u) для всех u, v ∈ V, т. е. граф можно считать неориентированным. Такая задача называется симметричной задачей коммивояжера.

### Методы решения
Все эффективные (сокращающие полный перебор) методы решения задачи коммивояжёра — методы эвристические. В большинстве эвристических методов находится не самый эффективный маршрут, а приближённое решение. Зачастую востребованы так называемые any-time-алгоритмы, то есть, постепенно улучшающие некоторое текущее приближенное решение. На практике применяются различные модификации более эффективных методов: метод ветвей и границ и метод генетических алгоритмов, а также алгоритм муравьиной колонии.

В данном случае будем решать симметричную задачу коммивояжера, используя для этого метод ветвей и границ.

#### Метод ветвей и границ
Метод ветвей и границ (англ. branch and bound) — общий алгоритмический метод для нахождения оптимальных решений различных задач оптимизации, особенно дискретной и комбинаторной оптимизации. По существу, метод является вариацией полного перебора с отсевом подмножеств допустимых решений, заведомо не содержащих оптимальных решений.

Общая идея метода может быть описана на примере поиска минимума функции f(x) на множестве допустимых значений переменной x, причем функция и переменная могут быть произвольной природы.

Для метода ветвей и границ необходимы две процедуры: ветвление и нахождение оценок (границ).

Процедура ветвления состоит в разбиении множества допустимых значений переменной на подобласти (подмножества) меньших размеров. Процедуру можно рекурсивно применять к подобластям. Полученные подобласти образуют дерево, называемое деревом поиска или деревом ветвей и границ. Узлами этого дерева являются построенные подобласти (подмножества множества значений переменной).

Процедура нахождения оценок заключается в поиске верхних и нижних границ для решения задачи на подобласти допустимых значений переменной.

В основе метода ветвей и границ лежит следующая идея: если нижняя граница значений функции на подобласти A дерева поиска больше, чем верхняя граница на какой-либо ранее просмотренной подобласти B, то A может быть исключена из дальнейшего рассмотрения (правило отсева). Обычно минимальную из полученных верхних оценок записывают в глобальную переменную, тогда любой узел дерева поиска, нижняя граница которого больше значения этой переменной, может быть исключён из дальнейшего рассмотрения. Если нижняя граница для узла дерева совпадает с верхней границей, то это значение является минимумом функции и достигается на соответствующей подобласти.

## Формат входных и выходных данных
### Входные данные
Представляются в JSON-формате. Сначала идет множество вершин, которые необходимо посетить, а затем для каждой из вершин массив расстояний от нее до всех других.
### Выходные данные
Также в JSON-формате в виде массива, представляющего собой последовательность посещения вершин.

## План решения задачи
Для решения задачи выбран язык python.
#### 1. Реализовать процесс инициализации начальных данных (в том числе с проверкой валидности входных данных).
В памяти представлять граф будем посредством матрицы весов. Конечно, у меня не могла не возникнуть идея хранить его как хэш-таблицу с ключами в виде можеств из двух вершин и значениями в виде длин, в том числе и принимать на вход подобные данные, однако выигрыш по памяти не столь значителен в данном случае (все таки, с учетом условий задачи, вряд ли курьеру необходимо будет посетить очень много вершин ;) ), да и не стоит оно того в общем.
#### 2. Реализовать сам метод решения.
#### 3. Пофиксить баги.
К слову, данный пункт плана актуален на протяжении всего выполнения работы.
